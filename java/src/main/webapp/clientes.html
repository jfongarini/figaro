<!Doctype html>
<html>
<head>
	<title>CLIENTES</title>
  <#include "/common/head.html">
</head>
<body ng-app=figaro ng-controller=clientesController ng-cloak>
  <#include "/common/menu.html">
  <div id=content class=content>
    <div class="banner">
        <label class="banner-label add"><i class=material-icons ng-click="newClient()" >person_add</i></label>
        <label class=banner-label ><i class=material-icons >more_vert</i></label>
        <label class=banner-label ><i class=material-icons >search</i></label>
        <input class=input-banner type="text" placeholder="Buscar..." ng-model="search" ng-keyup="searchCliente()">
    </div>
    <table id=table>
      <thead>
        <tr>
            <th>NOMBRE</th>
            <th>APELLIDO</th>
            <th>EMAIL</th>
            <th>TELEFONO</th>
            <th>FECHA ALTA</th>
            <th>ULTIMA VISITA</th>
        </tr>
      </thead>
      <tbody>
        <tr id={{cliente.id}} data-id={{cliente.id}} class=data-row ng-repeat="cliente in clientes" data-ng-click="detailClient($event)">
          <td>{{cliente.nombre}}</td>
          <td>{{cliente.apellido}}</td>
          <td>{{cliente.email}}</td>
          <td>{{cliente.telefono}}</td>
          <td>{{cliente.fechaIngreso}}</td>
          <td>{{cliente.ultimaVisita}}</td>
        </tr>
      </tbody>
    </table>
  </div>
  <div id=modal class=modal>
    <div class=modal-content>
      <form ng-submit="sendClient()">
        <div class=form-field><label>NOMBRE:</label><input id=focus tipe="text"  ng-model="ngCliente.nombre" required></div>
        <div class=form-field><label>APELLIDO:</label><input tipe="text" ng-model="ngCliente.apellido" required></div>
        <div class=form-field><label>SEXO:</label>
          <input type="radio" name=sexo ng-model="ngCliente.sexo" value="hombre" required> Hombre
          <input type="radio" name=sexo ng-model="ngCliente.sexo" value="mujer" required> Mujer
        </div>
        <div class=form-field><label>TELEFONO:</label><input type="text"   ng-model="ngCliente.telefono" ></div>
        <div class=form-field><label>EMAIL:</label><input type="email"     ng-model="ngCliente.email" ></div>
        <div class=form-field><label>CIUDAD:</label>
          <select ng-model="ngCliente.dirCiudad">
            <option value="{{ciudad.nombre}}" ng-repeat="ciudad in ciudades">{{ciudad.nombre}}</option>
          </select>
        </div>
        <div class=form-field><label>CALLE:</label><input type="text"      ng-model="ngCliente.dirCalle"></div>
        <div class=form-field><label>NUMERO:</label><input type="number"   ng-model="ngCliente.dirNumeroCalle"  maxlength="5"></div>
        <div class=form-field><label>PISO:</label><input type="number"     ng-model="ngCliente.dirPiso"  ></div>
        <div class=form-field><label>DPTO:</label><input type="text"       ng-model="ngCliente.dirDpto"></div>
        <div class=buttons>
          <button class="button accept" type="submit">ACEPTAR</button>
          <button class="button cancel" type="button" ng-click="discardClient()">CANCELAR</button>
        </div>
        <label class=form-message>{{message}}</label>
      </form>
    </div>
  </div>
  <#include "/common/javascript.html">
  <script src="js/clientesController.js" ></script>
</body>
</html>
